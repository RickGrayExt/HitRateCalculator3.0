<!doctype html><html><head><meta charset="utf-8"/><title>Hit-Rate Runner</title><meta name="viewport" content="width=device-width, initial-scale=1"/>
<style>body{font-family:system-ui,Arial,sans-serif;padding:2rem;max-width:800px;margin:0 auto}.card{border:1px solid #ddd;border-radius:12px;padding:1rem 1.2rem;box-shadow:0 2px 8px rgba(0,0,0,.05)}label{display:block;margin-top:.8rem;font-weight:600}input{width:100%;padding:.6rem .7rem;border:1px solid #ccc;border-radius:8px;margin-top:.3rem}button{margin-top:1rem;padding:.7rem 1rem;border:0;border-radius:10px;background:#0d6efd;color:#fff;font-weight:600;cursor:pointer}.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}.mono{font-family:ui-monospace,Consolas,monospace}</style></head>
<body><h1>Hit-Rate Microservices</h1><div class="card"><form id="runForm">
<label>CSV URL (raw)</label><input name="DatasetPath" placeholder="https://raw.githubusercontent.com/your/data.csv" required />
<label>Mode (PTO or PTL)</label><input name="Mode" value="PTO" />
<div class="row"><div><label>Max SKUs per Rack</label><input name="MaxSkusPerRack" type="number" value="50" /></div>
<div><label>Orders per Batch</label><input name="OrdersPerBatch" type="number" value="10" /></div></div>
<div class="row"><div><label>Lines per Batch</label><input name="LinesPerBatch" type="number" value="10" /></div>
<div><label>Max Stations</label><input name="MaxStations" type="number" value="4" /></div></div>
<div class="row"><div><label>Station Capacity</label><input name="StationCapacity" type="number" value="20" /></div>
<div><label>Wave Size</label><input name="WaveSize" type="number" value="5" /></div></div>
<label>Max Stations Open</label><input name="MaxStationsOpen" type="number" value="3" />
<button type="submit">Start Run</button></form><pre id="out" class="mono"></pre></div>
<script>
const form=document.getElementById('runForm'); const out=document.getElementById('out');
form.addEventListener('submit', async (e)=>{
 e.preventDefault();
 const data=Object.fromEntries(new FormData(form).entries());
 ['MaxSkusPerRack','OrdersPerBatch','LinesPerBatch','MaxStations','StationCapacity','WaveSize','MaxStationsOpen'].forEach(k=>data[k]=Number(data[k]));
 try{ const res=await fetch('http://localhost:8000/runs',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});
 const body=await res.json(); out.textContent=JSON.stringify(body,null,2);}catch(err){ out.textContent='Error: '+err;}
});
</script></body></html>
